define(["jquery", "underscore", "backbone", "text!templates/friends/list-item.html"], function (d, b, e, a) {
    var c = e.View.extend({
        tagName: "li",
        className: "col-xs-2 col-md-1 col-lg-1 friendListItem",
        events: {"click .userListItemLink": "getUserAudios"},
        initialize: function () {
            var f = this;
            var g = new Image();
            g.src = this.model.get("photo_50");
            g.onload = function () {
                var h = f.el.querySelector(".user-img-src");
                h.setAttribute("src", this.src);
                h.parentNode.classList.remove("preload")
            }
        },
        getUserAudios: function (f) {
            if (!this.model.get("can_see_audio")) {
                f.preventDefault();
                alert("this user blocked audios");
                return false
            }
            d(".friendListItem").not(this.el).removeClass("active");
            this.$el.addClass("active")
        },
        render: function () {
            var f = this.model.toJSON();
            this.el.innerHTML = b.template(a)(f);
            return this
        }
    });
    return c
});