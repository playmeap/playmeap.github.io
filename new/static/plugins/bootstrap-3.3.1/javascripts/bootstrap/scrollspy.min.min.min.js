+function(b){function a(e,g){var f=b.proxy(this.process,this);this.$body=b("body");this.$scrollElement=b(e).is("body")?b(window):b(e);this.options=b.extend({},a.DEFAULTS,g);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",f);this.refresh();this.process()}a.VERSION="3.3.1";a.DEFAULTS={offset:10};a.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};a.prototype.refresh=function(){var g="offset";var f=0;if(!b.isWindow(this.$scrollElement[0])){g="position";f=this.$scrollElement.scrollTop()}this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var e=this;this.$body.find(this.selector).map(function(){var i=b(this);var h=i.data("target")||i.attr("href");var j=/^#./.test(h)&&b(h);return(j&&j.length&&j.is(":visible")&&[[j[g]().top+f,h]])||null}).sort(function(i,h){return i[0]-h[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})};a.prototype.process=function(){var f=this.$scrollElement.scrollTop()+this.options.offset;var h=this.getScrollHeight();var l=this.options.offset+h-this.$scrollElement.height();var j=this.offsets;var k=this.targets;var g=this.activeTarget;var e;if(this.scrollHeight!=h){this.refresh()}if(f>=l){return g!=(e=k[k.length-1])&&this.activate(e)}if(g&&f<j[0]){this.activeTarget=null;return this.clear()}for(e=j.length;e--;){g!=k[e]&&f>=j[e]&&(!j[e+1]||f<=j[e+1])&&this.activate(k[e])}};a.prototype.activate=function(f){this.activeTarget=f;this.clear();var g=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]';var e=b(g).parents("li").addClass("active");if(e.parent(".dropdown-menu").length){e=e.closest("li.dropdown").addClass("active")}e.trigger("activate.bs.scrollspy")};a.prototype.clear=function(){b(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function d(e){return this.each(function(){var f=b(this);var h=f.data("bs.scrollspy");var g=typeof e=="object"&&e;if(!h){f.data("bs.scrollspy",(h=new a(this,g)))}if(typeof e=="string"){h[e]()}})}var c=b.fn.scrollspy;b.fn.scrollspy=d;b.fn.scrollspy.Constructor=a;b.fn.scrollspy.noConflict=function(){b.fn.scrollspy=c;return this};b(window).on("load.bs.scrollspy.data-api",function(){b('[data-spy="scroll"]').each(function(){var e=b(this);d.call(e,e.data())})})}(jQuery);