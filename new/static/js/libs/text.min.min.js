define(["module"],function(A){var q,v,w,B,p,y=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,t=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,C=typeof location!=="undefined"&&location.href,z=C&&location.protocol&&location.protocol.replace(/\:/,""),x=C&&location.hostname,D=C&&(location.port||undefined),s={},u=(A.config&&A.config())||{};q={version:"2.0.12",strip:function(b){if(b){b=b.replace(r,"");var a=b.match(t);if(a){b=a[1]}}else{b=""}return b},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:u.createXhr||function(){var a,d,c;if(typeof XMLHttpRequest!=="undefined"){return new XMLHttpRequest()}else{if(typeof ActiveXObject!=="undefined"){for(d=0;d<3;d+=1){c=y[d];try{a=new ActiveXObject(c)}catch(b){}if(a){y=[c];break}}}}return a},parseName:function(e){var a,b,g,c=false,f=e.indexOf("."),d=e.indexOf("./")===0||e.indexOf("../")===0;if(f!==-1&&(!d||f>1)){a=e.substring(0,f);b=e.substring(f+1,e.length)}else{a=e}g=b||a;f=g.indexOf("!");if(f!==-1){c=g.substring(f+1)==="strip";g=g.substring(0,f);if(b){b=g}else{a=g}}return{moduleName:a,ext:b,strip:c}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,a,g,h){var c,b,d,f=q.xdRegExp.exec(e);if(!f){return true}c=f[2];b=f[3];b=b.split(":");d=b[1];b=b[0];return(!c||c===a)&&(!b||b.toLowerCase()===g.toLowerCase())&&((!d&&!b)||d===h)},finishLoad:function(d,b,a,c){a=b?q.strip(a):a;if(u.isBuild){s[d]=a}c(a)},load:function(d,b,c,e){if(e&&e.isBuild&&!e.inlineText){c();return}u.isBuild=e&&e.isBuild;var g=q.parseName(d),a=g.moduleName+(g.ext?"."+g.ext:""),f=b.toUrl(a),h=(u.useXhr)||q.useXhr;if(f.indexOf("empty:")===0){c();return}if(!C||h(f,z,x,D)){q.get(f,function(i){q.finishLoad(d,g.strip,i,c)},function(i){if(c.error){c.error(i)}})}else{b([a],function(i){q.finishLoad(g.moduleName+"."+g.ext,g.strip,i,c)})}},write:function(a,d,c,e){if(s.hasOwnProperty(d)){var b=q.jsEscape(s[d]);c.asModule(a+"!"+d,"define(function () { return '"+b+"';});\n")}},writeFile:function(g,b,e,d,a){var f=q.parseName(b),c=f.ext?"."+f.ext:"",i=f.moduleName+c,h=e.toUrl(f.moduleName+c)+".js";q.load(i,e,function(k){var j=function(l){return d(h,l)};j.asModule=function(l,m){return d.asModule(l,h,m)};q.write(g,i,j,a)},a)}};if(u.env==="node"||(!u.env&&typeof process!=="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])){v=require.nodeRequire("fs");q.get=function(d,a,e){try{var c=v.readFileSync(d,"utf8");if(c.indexOf("\uFEFF")===0){c=c.substring(1)}a(c)}catch(b){if(e){e(b)}}}}else{if(u.env==="xhr"||(!u.env&&q.createXhr())){q.get=function(e,a,f,c){var d=q.createXhr(),b;d.open("GET",e,true);if(c){for(b in c){if(c.hasOwnProperty(b)){d.setRequestHeader(b.toLowerCase(),c[b])}}}if(u.onXhr){u.onXhr(d,e)}d.onreadystatechange=function(h){var i,g;if(d.readyState===4){i=d.status||0;if(i>399&&i<600){g=new Error(e+" HTTP status: "+i);g.xhr=d;if(f){f(g)}}else{a(d.responseText)}if(u.onXhrComplete){u.onXhrComplete(d,e)}}};d.send(null)}}else{if(u.env==="rhino"||(!u.env&&typeof Packages!=="undefined"&&typeof java!=="undefined")){q.get=function(c,e){var a,d,b="utf-8",i=new java.io.File(c),h=java.lang.System.getProperty("line.separator"),f=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),b)),g="";try{a=new java.lang.StringBuffer();d=f.readLine();if(d&&d.length()&&d.charAt(0)===65279){d=d.substring(1)}if(d!==null){a.append(d)}while((d=f.readLine())!==null){a.append(h);a.append(d)}g=String(a.toString())}finally{f.close()}e(g)}}else{if(u.env==="xpconnect"||(!u.env&&typeof Components!=="undefined"&&Components.classes&&Components.interfaces)){w=Components.classes;B=Components.interfaces;Components.utils["import"]("resource://gre/modules/FileUtils.jsm");p=("@mozilla.org/windows-registry-key;1" in w);q.get=function(e,a){var f,d,c,g={};if(p){e=e.replace(/\//g,"\\")}c=new FileUtils.File(e);try{f=w["@mozilla.org/network/file-input-stream;1"].createInstance(B.nsIFileInputStream);f.init(c,1,0,false);d=w["@mozilla.org/intl/converter-input-stream;1"].createInstance(B.nsIConverterInputStream);d.init(f,"utf-8",f.available(),B.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);d.readString(f.available(),g);d.close();f.close();a(g.value)}catch(b){throw new Error((c&&c.path||"")+": "+b)}}}}}}return q});