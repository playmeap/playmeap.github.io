+function(e){function f(c,a){var b=e.proxy(this.process,this);this.$body=e("body");this.$scrollElement=e(c).is("body")?e(window):e(c);this.options=e.extend({},f.DEFAULTS,a);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",b);this.refresh();this.process()}f.VERSION="3.3.1";f.DEFAULTS={offset:10};f.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};f.prototype.refresh=function(){var a="offset";var b=0;if(!e.isWindow(this.$scrollElement[0])){a="position";b=this.$scrollElement.scrollTop()}this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var c=this;this.$body.find(this.selector).map(function(){var k=e(this);var l=k.data("target")||k.attr("href");var d=/^#./.test(l)&&e(l);return(d&&d.length&&d.is(":visible")&&[[d[a]().top+b,l]])||null}).sort(function(d,j){return d[0]-j[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})};f.prototype.process=function(){var m=this.$scrollElement.scrollTop()+this.options.offset;var d=this.getScrollHeight();var a=this.options.offset+d-this.$scrollElement.height();var c=this.offsets;var b=this.targets;var i=this.activeTarget;var n;if(this.scrollHeight!=d){this.refresh()}if(m>=a){return i!=(n=b[b.length-1])&&this.activate(n)}if(i&&m<c[0]){this.activeTarget=null;return this.clear()}for(n=c.length;n--;){i!=b[n]&&m>=c[n]&&(!c[n+1]||m<=c[n+1])&&this.activate(b[n])}};f.prototype.activate=function(b){this.activeTarget=b;this.clear();var a=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]';var c=e(a).parents("li").addClass("active");if(c.parent(".dropdown-menu").length){c=c.closest("li.dropdown").addClass("active")}c.trigger("activate.bs.scrollspy")};f.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function g(a){return this.each(function(){var d=e(this);var b=d.data("bs.scrollspy");var c=typeof a=="object"&&a;if(!b){d.data("bs.scrollspy",(b=new f(this,c)))}if(typeof a=="string"){b[a]()}})}var h=e.fn.scrollspy;e.fn.scrollspy=g;e.fn.scrollspy.Constructor=f;e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=h;return this};e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var a=e(this);g.call(a,a.data())})})}(jQuery);