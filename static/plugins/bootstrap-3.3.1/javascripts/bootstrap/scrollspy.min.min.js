+function(g){function h(b,c){var a=g.proxy(this.process,this);this.$body=g("body");this.$scrollElement=g(b).is("body")?g(window):g(b);this.options=g.extend({},h.DEFAULTS,c);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",a);this.refresh();this.process()}h.VERSION="3.3.1";h.DEFAULTS={offset:10};h.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};h.prototype.refresh=function(){var c="offset";var a=0;if(!g.isWindow(this.$scrollElement[0])){c="position";a=this.$scrollElement.scrollTop()}this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var b=this;this.$body.find(this.selector).map(function(){var k=g(this);var l=k.data("target")||k.attr("href");var d=/^#./.test(l)&&g(l);return(d&&d.length&&d.is(":visible")&&[[d[c]().top+a,l]])||null}).sort(function(d,j){return d[0]-j[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})};h.prototype.process=function(){var b=this.$scrollElement.scrollTop()+this.options.offset;var i=this.getScrollHeight();var c=this.options.offset+i-this.$scrollElement.height();var d=this.offsets;var n=this.targets;var a=this.activeTarget;var m;if(this.scrollHeight!=i){this.refresh()}if(b>=c){return a!=(m=n[n.length-1])&&this.activate(m)}if(a&&b<d[0]){this.activeTarget=null;return this.clear()}for(m=d.length;m--;){a!=n[m]&&b>=d[m]&&(!d[m+1]||b<=d[m+1])&&this.activate(n[m])}};h.prototype.activate=function(a){this.activeTarget=a;this.clear();var c=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]';var b=g(c).parents("li").addClass("active");if(b.parent(".dropdown-menu").length){b=b.closest("li.dropdown").addClass("active")}b.trigger("activate.bs.scrollspy")};h.prototype.clear=function(){g(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function e(a){return this.each(function(){var b=g(this);var c=b.data("bs.scrollspy");var d=typeof a=="object"&&a;if(!c){b.data("bs.scrollspy",(c=new h(this,d)))}if(typeof a=="string"){c[a]()}})}var f=g.fn.scrollspy;g.fn.scrollspy=e;g.fn.scrollspy.Constructor=h;g.fn.scrollspy.noConflict=function(){g.fn.scrollspy=f;return this};g(window).on("load.bs.scrollspy.data-api",function(){g('[data-spy="scroll"]').each(function(){var a=g(this);e.call(a,a.data())})})}(jQuery);