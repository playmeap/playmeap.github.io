+function(b){var a=function(f,e){this.options=b.extend({},a.DEFAULTS,e);this.$target=b(this.options.target).on("scroll.bs.affix.data-api",b.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",b.proxy(this.checkPositionWithEventLoop,this));this.$element=b(f);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};a.VERSION="3.3.1";a.RESET="affix affix-top affix-bottom";a.DEFAULTS={offset:0,target:window};a.prototype.getState=function(l,k,n,e){var m=this.$target.scrollTop();var g=this.$element.offset();var h=this.$target.height();if(n!=null&&this.affixed=="top"){return m<n?"top":false}if(this.affixed=="bottom"){if(n!=null){return(m+this.unpin<=g.top)?false:"bottom"}return(m+h<=l-e)?false:"bottom"}var f=this.affixed==null;var j=f?m:g.top;var i=f?h:k;if(n!=null&&j<=n){return"top"}if(e!=null&&(j+i>=l-e)){return"bottom"}return false};a.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(a.RESET).addClass("affix");var f=this.$target.scrollTop();var e=this.$element.offset();return(this.pinnedOffset=e.top-f)};a.prototype.checkPositionWithEventLoop=function(){setTimeout(b.proxy(this.checkPosition,this),1)};a.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var g=this.$element.height();var e=this.options.offset;var j=e.top;var i=e.bottom;var l=b("body").height();if(typeof e!="object"){i=j=e}if(typeof j=="function"){j=e.top(this.$element)}if(typeof i=="function"){i=e.bottom(this.$element)}var h=this.getState(l,g,j,i);if(this.affixed!=h){if(this.unpin!=null){this.$element.css("top","")}var f="affix"+(h?"-"+h:"");var k=b.Event(f+".bs.affix");this.$element.trigger(k);if(k.isDefaultPrevented()){return}this.affixed=h;this.unpin=h=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(a.RESET).addClass(f).trigger(f.replace("affix","affixed")+".bs.affix")}if(h=="bottom"){this.$element.offset({top:l-g-i})}};function d(e){return this.each(function(){var f=b(this);var h=f.data("bs.affix");var g=typeof e=="object"&&e;if(!h){f.data("bs.affix",(h=new a(this,g)))}if(typeof e=="string"){h[e]()}})}var c=b.fn.affix;b.fn.affix=d;b.fn.affix.Constructor=a;b.fn.affix.noConflict=function(){b.fn.affix=c;return this};b(window).on("load",function(){b('[data-spy="affix"]').each(function(){var f=b(this);var e=f.data();e.offset=e.offset||{};if(e.offsetBottom!=null){e.offset.bottom=e.offsetBottom}if(e.offsetTop!=null){e.offset.top=e.offsetTop}d.call(f,e)})})}(jQuery);