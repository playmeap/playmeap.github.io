+function(e){var f=function(a,b){this.options=e.extend({},f.DEFAULTS,b);this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this));this.$element=e(a);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};f.VERSION="3.3.1";f.RESET="affix affix-top affix-bottom";f.DEFAULTS={offset:0,target:window};f.prototype.getState=function(c,d,a,t){var b=this.$target.scrollTop();var r=this.$element.offset();var q=this.$target.height();if(a!=null&&this.affixed=="top"){return b<a?"top":false}if(this.affixed=="bottom"){if(a!=null){return(b+this.unpin<=r.top)?false:"bottom"}return(b+q<=c-t)?false:"bottom"}var s=this.affixed==null;var o=s?b:r.top;var p=s?q:d;if(a!=null&&o<=a){return"top"}if(t!=null&&(o+p>=c-t)){return"bottom"}return false};f.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(f.RESET).addClass("affix");var a=this.$target.scrollTop();var b=this.$element.offset();return(this.pinnedOffset=b.top-a)};f.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)};f.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var n=this.$element.height();var p=this.options.offset;var c=p.top;var d=p.bottom;var a=e("body").height();if(typeof p!="object"){d=c=p}if(typeof c=="function"){c=p.top(this.$element)}if(typeof d=="function"){d=p.bottom(this.$element)}var m=this.getState(a,n,c,d);if(this.affixed!=m){if(this.unpin!=null){this.$element.css("top","")}var o="affix"+(m?"-"+m:"");var b=e.Event(o+".bs.affix");this.$element.trigger(b);if(b.isDefaultPrevented()){return}this.affixed=m;this.unpin=m=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(f.RESET).addClass(o).trigger(o.replace("affix","affixed")+".bs.affix")}if(m=="bottom"){this.$element.offset({top:a-n-d})}};function g(a){return this.each(function(){var d=e(this);var b=d.data("bs.affix");var c=typeof a=="object"&&a;if(!b){d.data("bs.affix",(b=new f(this,c)))}if(typeof a=="string"){b[a]()}})}var h=e.fn.affix;e.fn.affix=g;e.fn.affix.Constructor=f;e.fn.affix.noConflict=function(){e.fn.affix=h;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var a=e(this);var b=a.data();b.offset=b.offset||{};if(b.offsetBottom!=null){b.offset.bottom=b.offsetBottom}if(b.offsetTop!=null){b.offset.top=b.offsetTop}g.call(a,b)})})}(jQuery);