define(["jquery","underscore","backbone"],function(c,a,d){var b=d.Model.extend({defaults:{repeat:false,setBroadcast:false},initialize:function(){this.bind("change:acid",this.changeAcid,this);this.bind("change:setBroadcast",this.setBroadcast,this)},getAudioModel:function(f){if(!f){f=this.get("acid")}var e=this.app.collections.audios.get(f);if(!e){e=a.first(this.app.collections.audios.models)}return e},setBroadcast:function(){var f={};var e=this.get("setBroadcast");if(e){f.audio=this.app.attributes.mid+"_"+this.getAudioModel().get("aid")}VK.Api.call("audio.setBroadcast",f,function(g){if(g&&g.response){}else{alert(g.error.error_msg)}});this.app.log("PlayerControllerModel.setBroadcast: "+e)},changeAcid:function(){this.setBroadcast()}});return b});